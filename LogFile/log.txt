09/13/2021 22:23:39 +04:00 HTTP "PUT" "/Client" responded 500 in 113.2928 ms
09/13/2021 23:03:17 +04:00 HTTP "PUT" "/Client" responded 200 in 3174.1838 ms
09/14/2021 00:03:51 +04:00 HTTP "PUT" "/Client" responded 200 in 65.4240 ms
09/14/2021 00:04:02 +04:00 HTTP "PUT" "/Client" responded 200 in 33.2312 ms
09/14/2021 00:04:15 +04:00 Invalid Input!
09/14/2021 00:04:15 +04:00 HTTP "DELETE" "/Client?IdentityNumber=1" responded 400 in 20.0352 ms
09/14/2021 00:04:23 +04:00 Invalid Input!
09/14/2021 00:04:23 +04:00 HTTP "DELETE" "/Client?IdentityNumber=1111111111111" responded 400 in 4.8577 ms
09/14/2021 00:04:26 +04:00 Invalid Input!
09/14/2021 00:04:26 +04:00 HTTP "DELETE" "/Client?IdentityNumber=1111111111111" responded 400 in 5.0808 ms
09/14/2021 00:04:34 +04:00 Coud not find such client!
09/14/2021 00:04:34 +04:00 HTTP "DELETE" "/Client?IdentityNumber=11111111112" responded 400 in 7.5278 ms
09/14/2021 00:05:50 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 400 in 43.9534 ms
09/14/2021 00:06:09 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 200 in 246.0841 ms
09/14/2021 00:06:18 +04:00 Such car already exists!
09/14/2021 00:06:18 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 400 in 17.8861 ms
09/14/2021 00:06:40 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 200 in 18.1012 ms
09/14/2021 00:07:11 +04:00 HTTP "POST" "/Car/SellingCarsList?from=2020%2F10%2F10&to=2022%2F10%2F10" responded 200 in 111.6191 ms
09/14/2021 00:21:40 +04:00 Failed executing DbCommand ("125"ms) [Parameters=["@__fromDate_0='?' (DbType = DateTime), @__toDate_1='?' (DbType = DateTime)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[Brand], [c].[CarNumber], [c].[ClientId], [c].[CreationDate], [c].[DeletedAt], [c].[FinishedSaleDate], [c].[IsSold], [c].[Model], [c].[ModifiedDate], [c].[Price], [c].[ReleaseDate], [c].[StartedSaleDate], [c].[VinCode], [c0].[Id], [c0].[Address], [c0].[BirthDate], [c0].[CreationDate], [c0].[DeletedAt], [c0].[Email], [c0].[FirstName], [c0].[IdentityNumber], [c0].[ModifiedDate], [c0].[PhoneNumber], [c0].[SecondName]
FROM [Cars] AS [c]
INNER JOIN [Clients] AS [c0] ON [c].[ClientId] = [c0].[Id]
WHERE (([c].[DeletedAt] IS NULL AND ([c].[IsSold] <> CAST(1 AS bit))) AND ([c].[StartedSaleDate] >= @__fromDate_0)) AND ([c].[FinishedSaleDate] <= @__toDate_1)"
09/14/2021 00:21:40 +04:00 An exception occurred while iterating over the results of a query for context type '"CarSales.Repository.AppDbContext"'."
""System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()"
System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
09/14/2021 00:21:40 +04:00 HTTP "POST" "/Car/SellingCarsList?from=2020%2F10%2F10" responded 500 in 3313.0605 ms
09/14/2021 00:21:52 +04:00 HTTP "POST" "/Car/SellingCarsList?from=2020%2F10%2F10&to=2020%2F10%2F10" responded 200 in 130.2588 ms
09/14/2021 00:22:43 +04:00 HTTP "GET" "/Car/SellingCarsList?from=2020%2F10%2F10&to=2022%2F10%2F10" responded 200 in 2987.7610 ms
09/14/2021 00:42:38 +04:00 HTTP "POST" "/Car/SellingCarsList?from=2010%2F10%2F10&to=2022%2F10%2F10" responded 200 in 3152.9858 ms
09/14/2021 00:44:45 +04:00 Could not buy the car!
09/14/2021 00:44:45 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=77777777778&VinCode=123456789ABCDABCD" responded 400 in 91.0178 ms
09/14/2021 00:45:01 +04:00 Invalid Input!
09/14/2021 00:45:01 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=77777777778&VinCode=123456789ABCDA" responded 400 in 8.4127 ms
09/14/2021 00:45:25 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=12121212121&VinCode=123456789ABCDABCD" responded 200 in 226.1835 ms
09/14/2021 00:45:40 +04:00 HTTP "GET" "/Car/Report" responded 500 in 79.5024 ms
09/14/2021 00:47:27 +04:00 HTTP "GET" "/Car/Report" responded 500 in 1529.6103 ms
09/14/2021 00:52:58 +04:00 HTTP "GET" "/Car/Report" responded 500 in 45.0256 ms
09/14/2021 01:04:41 +04:00 HTTP "GET" "/Car/Report" responded 500 in 2155.3051 ms
09/14/2021 01:05:39 +04:00 HTTP "GET" "/Car/Report" responded 500 in 1944.0180 ms
09/14/2021 01:11:44 +04:00 HTTP "GET" "/Car/Report" responded 500 in 1676.0010 ms
09/14/2021 01:16:09 +04:00 HTTP "GET" "/Car/Report" responded 500 in 1116.4898 ms
09/14/2021 01:25:02 +04:00 HTTP "GET" "/Car/Report" responded 500 in 1104.1879 ms
09/14/2021 01:29:03 +04:00 HTTP "GET" "/Car/Report" responded 500 in 1039.9215 ms
09/14/2021 01:33:15 +04:00 HTTP "GET" "/Car/Report" responded 200 in 1721.4897 ms
09/14/2021 01:50:12 +04:00 HTTP "GET" "/Car" responded 200 in 1559.3469 ms
09/14/2021 01:51:09 +04:00 HTTP "GET" "/Car" responded 200 in 32.2907 ms
09/14/2021 01:51:19 +04:00 HTTP "GET" "/Car" responded 200 in 11.9824 ms
09/14/2021 01:52:47 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=12312312312&VinCode=123456789ABCD1234" responded 200 in 228.7856 ms
09/14/2021 01:52:54 +04:00 Could not buy the car!
09/14/2021 01:52:54 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=12312312312&VinCode=123456789ABCD1234" responded 400 in 10.9831 ms
09/14/2021 01:53:03 +04:00 HTTP "GET" "/Car" responded 200 in 3.1093 ms
09/14/2021 01:54:02 +04:00 Could not find such car!
09/14/2021 01:54:02 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=77777777778&VinCode=1234ABCD1234ABCD1" responded 400 in 6.1509 ms
09/14/2021 01:55:38 +04:00 Failed executing DbCommand ("9"ms) [Parameters=["@p0='?' (Size = 20), @p1='?' (Size = 15), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (Size = 20), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 17) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Cars] ([Brand], [CarNumber], [ClientId], [CreationDate], [DeletedAt], [FinishedSaleDate], [IsSold], [Model], [ModifiedDate], [Price], [ReleaseDate], [StartedSaleDate], [VinCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
09/14/2021 01:55:38 +04:00 An exception occurred in the database while saving changes for context type '"CarSales.Repository.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cars' with unique index 'IX_Cars_VinCode'. The duplicate key value is (1234ABCD1234ABCD1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ecfe44cf-6efd-445a-9c17-f7e3ca0bc131
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cars' with unique index 'IX_Cars_VinCode'. The duplicate key value is (1234ABCD1234ABCD1).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ecfe44cf-6efd-445a-9c17-f7e3ca0bc131
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
09/14/2021 01:55:38 +04:00 HTTP "POST" "/Car?IdentityNumber=12121212121" responded 500 in 147.7069 ms
09/14/2021 01:57:32 +04:00 Could not find such car!
09/14/2021 01:57:32 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=12121212121&VinCode=1234ABCD1234ABCD1" responded 400 in 1434.0975 ms
09/14/2021 01:58:32 +04:00 HTTP "POST" "/Car?IdentityNumber=12121212121" responded 200 in 239.5319 ms
09/14/2021 01:58:43 +04:00 Could not buy the car!
09/14/2021 01:58:43 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=12121212121&VinCode=1234ABCD1234ABCD1" responded 400 in 17.3916 ms
09/14/2021 01:58:53 +04:00 HTTP "POST" "/Car/BuyCar?IdentityNumber=77777777778&VinCode=1234ABCD1234ABCD1" responded 200 in 16.1546 ms
09/14/2021 01:59:06 +04:00 HTTP "GET" "/Car" responded 200 in 27.4930 ms
09/14/2021 02:04:19 +04:00 HTTP "DELETE" "/Car?IdentityNumber=77777777778&VinCode=123456789ABCD1234" responded 200 in 1630.3112 ms
09/14/2021 02:05:24 +04:00 Failed executing DbCommand ("4"ms) [Parameters=["@p0='?' (Size = 20), @p1='?' (Size = 15), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (Size = 20), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 17) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Cars] ([Brand], [CarNumber], [ClientId], [CreationDate], [DeletedAt], [FinishedSaleDate], [IsSold], [Model], [ModifiedDate], [Price], [ReleaseDate], [StartedSaleDate], [VinCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
09/14/2021 02:05:24 +04:00 An exception occurred in the database while saving changes for context type '"CarSales.Repository.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cars' with unique index 'IX_Cars_VinCode'. The duplicate key value is (123456789ABCD1234).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14581514-51d0-4787-a8d0-2f158abf6620
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cars' with unique index 'IX_Cars_VinCode'. The duplicate key value is (123456789ABCD1234).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:14581514-51d0-4787-a8d0-2f158abf6620
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
09/14/2021 02:05:24 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 500 in 148.6504 ms
09/14/2021 02:09:29 +04:00 Failed executing DbCommand ("5"ms) [Parameters=["@p0='?' (Size = 20), @p1='?' (Size = 15), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (Size = 20), @p8='?' (DbType = DateTime), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime), @p11='?' (DbType = DateTime), @p12='?' (Size = 17) (DbType = AnsiString)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Cars] ([Brand], [CarNumber], [ClientId], [CreationDate], [DeletedAt], [FinishedSaleDate], [IsSold], [Model], [ModifiedDate], [Price], [ReleaseDate], [StartedSaleDate], [VinCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
SELECT [Id]
FROM [Cars]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
09/14/2021 02:09:29 +04:00 An exception occurred in the database while saving changes for context type '"CarSales.Repository.AppDbContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cars' with unique index 'IX_Cars_VinCode'. The duplicate key value is (123456789ABCD1234).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:90628a8e-b2a0-48d1-9bc3-7d722ed78820
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cars' with unique index 'IX_Cars_VinCode'. The duplicate key value is (123456789ABCD1234).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:90628a8e-b2a0-48d1-9bc3-7d722ed78820
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
09/14/2021 02:09:29 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 500 in 1956.6035 ms
09/14/2021 02:16:03 +04:00 HTTP "POST" "/Car?IdentityNumber=77777777778" responded 200 in 1631.7601 ms
09/14/2021 02:16:19 +04:00 HTTP "GET" "/Car" responded 200 in 53.4594 ms
09/16/2021 12:37:32 +04:00 HTTP "GET" "/swagger/swagger-ui-standalone-preset.js.map" responded 404 in 14388.3691 ms
09/16/2021 12:37:32 +04:00 HTTP "GET" "/swagger/swagger-ui-bundle.js.map" responded 404 in 30519.7760 ms
09/16/2021 12:39:00 +04:00 Coud not find such client!
09/16/2021 12:39:11 +04:00 HTTP "GET" "/Client?IdentityNumber=15975315975" responded 400 in 61067.8496 ms
09/17/2021 03:10:58 +04:00 HTTP "GET" "/favicon.ico" responded 404 in 2.8525 ms
